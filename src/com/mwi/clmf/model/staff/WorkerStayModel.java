package com.mwi.clmf.model.staff;import com.jfinal.plugin.activerecord.Model;import com.jfinal.plugin.activerecord.Page;@SuppressWarnings("serial")public class WorkerStayModel extends Model<WorkerStayModel> {	public static final WorkerStayModel  wsDao=new WorkerStayModel();			public Page<WorkerStayModel> getWorkerStayList(String realname, String work_group,			String id_no, String worker_audit_status,int worker_type, int currentPage, int currentSize){		boolean realnameNotNull = !"".equals(realname) && realname != null;		boolean work_groupNotNull = !"".equals(work_group) && work_group != null;		boolean id_noNotNull = !"".equals(id_no) && id_no != null;		boolean worker_audit_statusNotNull = !"".equals(worker_audit_status) && worker_audit_status != null;				String sql = "from (select cws.id cws_id, cws.worker_audit_status cws_worker_audit_status, cws.worker_id, cwi.realname cwi_realname, cwi.work_group cwi_work_group, cwi.sex cwi_sex, cwi.id_no cwi_id_no, cwi.worker_type cwi_worker_type, ccc.license_num ccc_license_num from cf_worker_stay cws left join cf_worker_infor cwi ON cwi.id =cws.worker_id left join cf_chack_card ccc ON ccc.id=cwi.card_id) a left join (select cws.id cws_id1,chr.id, chr.room_type_name chr_room_type_name,chr.hotel_id,ch.hotel_name ch_hotel_name from cf_worker_stay cws left join cf_hotel_room chr ON chr.id=cws.worker_room_id left join cf_hotel ch on ch.id=chr.hotel_id) b on a.cws_id=b.cws_id1 where 1=1";		if(worker_type == 1)			sql += " and a.cwi_worker_type=1";		if(worker_type == 2)			sql += " and a.cwi_worker_type=2";		if(worker_audit_statusNotNull){			if("0".equals(worker_audit_status)){				sql += " and a.cws_worker_audit_status=0";			}			if("1".equals(worker_audit_status)){				sql += " and a.cws_worker_audit_status=1";				}		}		if(realnameNotNull)			sql += " and a.cwi_realname= '"+realname+"'";		if(work_groupNotNull)			sql += " and a.cwi_work_group like '%"+work_group+"%'";		if(id_noNotNull)			sql += " and a.cwi_id_no = '"+id_no+"'";						System.out.println("last sql:--"+sql);		sql += " order by a.cws_id  desc";		return wsDao.paginate(currentPage, currentSize, "select *", sql);			}	}