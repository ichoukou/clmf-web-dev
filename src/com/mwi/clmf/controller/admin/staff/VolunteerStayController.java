package com.mwi.clmf.controller.admin.staff;import com.jfinal.core.Controller;import com.jfinal.plugin.activerecord.Page;import com.mwi.clmf.model.hotel.HotelInforModel;import com.mwi.clmf.model.hotel.HotelRoomModel;import com.mwi.clmf.model.staff.WorkerInforModel;import com.mwi.clmf.model.staff.WorkerStayModel;public class VolunteerStayController extends Controller {		public void index(){		String realname =getPara("realname");		String work_group =getPara("work_group");		String id_no =getPara("id_no");		String worker_audit_status =getPara("worker_audit_status");		Integer currentPage = getParaToInt("currentPage") == null ? 1 : getParaToInt("currentPage");		Integer currentSize = getParaToInt("currentSize") == null ? 10 : getParaToInt("currentSize");				Page<WorkerStayModel> pageList = WorkerStayModel.wsDao.getWorkerStayList(realname, work_group, id_no, worker_audit_status, 2, currentPage, currentSize);		setAttr("volunteerStayList", pageList);		setAttr("hotelList", HotelInforModel.hiDao.hotelList());		render("mwi_staff_workAccomadation.jsp");						render("mwi_volunteer_workAccomadation.jsp");	}		public void findByHId(){		renderJson("hotelRoomList",new HotelRoomModel().getRoom(getParaToLong("hotelId")));	}		public void findById_no(){		renderJson("volunteer",new WorkerInforModel().getWorkerById_no(getPara("id_no"), 2));	}		public void save(){		String addworkerId =getPara("addworkerId");		String worker_room_id =getPara("worker_room_id");			new WorkerStayModel().			set("worker_id",addworkerId).			set("worker_room_id", worker_room_id).set("worker_audit_status",0).save();		redirect("/volunteerStay");	}		public void deleteById(){		new WorkerStayModel().deleteById(getPara());		redirect("/volunteerStay");	}		public void bathdelVStay(){		String stayId = getPara("stayId");		String[] stayIds = stayId.split(",");		for(int i=0; i<stayIds.length; i++){			new WorkerStayModel().deleteById(stayIds[i]);		}		redirect("/volunteerStay");	}}