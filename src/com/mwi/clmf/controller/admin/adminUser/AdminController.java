package com.mwi.clmf.controller.admin.adminUser;import com.jfinal.core.Controller;import com.jfinal.plugin.activerecord.Page;import com.mwi.clmf.model.adminUser.RoleModel;import com.mwi.clmf.model.adminUser.UserModel;public class AdminController extends Controller {	public void index(){		int pageNumber = getParaToInt("pageNumber") == null ? 1 : getParaToInt("pageNumber");		int pageSize = getParaToInt("pageSize") == null ? 10 : getParaToInt("pageSize");				String userName = getPara("userName");		String realName = getPara("realName");		String isBind = getPara("isBind");						Page<UserModel> userPage = UserModel.uDao.userPage4Pri(pageNumber, pageSize, userName, realName, isBind);				setAttr("pageNumber", pageNumber);		setAttr("pageSize", pageSize);		setAttr("totalPage", userPage.getTotalPage());				setAttr("userName", userName);		setAttr("realName", realName);		setAttr("isBind", isBind);		setAttr("count", userPage.getTotalRow());				setAttr("userPage", userPage);		setAttr("roleList", RoleModel.rDao.roleList());						render("userManage.jsp");	}		public void addRole(){		Long userId = getParaToLong();		Long roleId = getParaToLong("set.roleId"+userId);		new UserModel().findById(userId).set("role_id", roleId).update();		redirect("/admin");	}		public void delete(){		new UserModel().deleteById(getPara());		redirect("/admin");	}		public void batchSetRole(){		System.out.println("is");		String userIdsStr = getPara("userIds");		String roleId = getPara("batch.roleId");		String[] userIds = userIdsStr.split(",");		for(int i=0; i<userIds.length; i++){			new UserModel().findById(userIds[i]).set("role_id", roleId).update();		}		redirect("/admin");	}		}